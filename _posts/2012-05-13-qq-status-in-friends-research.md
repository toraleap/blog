---
layout: post
title: 好友眼里的QQ多客户端登录研究
category: default
---

QQ允许多客户端同时登录已经有好一段时间了。在享受着多客户端同时登录机制带来的便利的同时，是否考虑过各个客户端可以分别设置在线状态，在好友的列表里到底会显示为什么状态？到底是在线、离开还是隐身；电脑、安卓、还是水果标志？为了弄清楚这个问题，下面进行了一次研究分析。

![qqmultilogin01](http://blog.toraleap.com/wp-content/uploads/2012/05/qqmultilogin01.png)

### 所用设备 
*	PC端：Win7sp1 QQ2012beta2
*	Android：系统版本2.3.7 手机QQ2012 1.0Build0130 
*	iOS：new iPad 系统版本5.1 QQHD 2.8.1

### 测试用QQ号码 
*	用于多客户端登录的号码x1 
*	好友x1：默认状态 
*	好友x1：已设置在线对其隐身 
*	好友x1：已设置隐身对其可见

### 测试过程 
全部人工操作测试，费时费力，描述起来也繁杂无聊，就省了吧。

### 简要结论

好友看到你的状态大体上遵循如下规律：  
对该好友发出的聊天消息，以及在PC端改变在线状态，会让好友所看到的状态更新为最后一次执行这些动作所用客户端的当前状态。

### 完整结论

1.  在线对其隐身/隐身对其可见的设置，在全部移动设备上都能正常工作： 
	*	默认状态：在线→在线；离开→离开；隐身→离线；收到消息→在线； 
	*	在线对其隐身：在线→离线；离开→离线；隐身→离线；收到消息→在线； 
	*	隐身对其可见：在线→在线；离开→离开；隐身→在线；收到消息→在线。 
	以下结论的状态同步会依照此处的对照表显示。
2.  PC端在线/离开/隐身时，好友看到的状态会因以下事件而改变： 
	*	若该好友收到一条消息，显示的状态和所用设备会与消息来源的客户端同步； 
	*	若从PC端改变在线状态，好友看到的状态会与PC端状态同步； 
	*	若从移动设备改变在线状态，对好友看到的状态没有影响； 
	*	若从移动设备下线，接收过移动设备消息的好友一段时间后会更新为PC端状态。
3.  PC端离线时，好友看到的状态会因以下事件而改变： 
	*	若该好友收到一条消息，显示的状态和所用设备会与消息来源的客户端同步； 
	*	若从移动设备改变在线状态，好友看到的状态会是最后一次改变设备的状态： 
	*	这一条以事实说明比较容易：Android在线时，于iOS选择隐身，则隐身可见的好友能看到iPhoneQQ在线，对其余好友显示为离线，两个移动设备均能同时接收和发送消息；于iOS选择注销登录，则对所有好友都显示为离线，但是此时AndroidQQ仍能正常接收消息。交换Android和iOS进行实验，结果也成立。
4.  本人对以上结论的正确性不做保障，腾讯公司对结论拥有最终解释权。

### 应用

当你离开电脑时，将PC端的QQ设置为离开，此时登录移动QQ，则接收过你移动设备消息的好友会显示你用移动QQ在线，其他好友仍然显示为PC和离开状态，很方便。